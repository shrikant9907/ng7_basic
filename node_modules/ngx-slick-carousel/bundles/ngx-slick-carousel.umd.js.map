{"version":3,"file":"ngx-slick-carousel.umd.js","sources":["ng://ngx-slick-carousel/slick.component.ts","ng://ngx-slick-carousel/index.ts"],"sourcesContent":["import { isPlatformBrowser, isPlatformServer } from '@angular/common';\nimport {\n    AfterViewChecked,\n    AfterViewInit,\n    Component,\n    Directive,\n    ElementRef,\n    EventEmitter,\n    forwardRef,\n    Host,\n    Inject,\n    Input,\n    NgZone,\n    OnChanges,\n    OnDestroy,\n    OnInit,\n    Output,\n    PLATFORM_ID,\n    SimpleChanges\n} from '@angular/core';\nimport {NG_VALUE_ACCESSOR} from '@angular/forms';\n\ndeclare const jQuery: any;\n\n/**\n * Slick component\n */\n@Component({\n    selector: 'ngx-slick-carousel',\n    exportAs: 'slick-carousel',\n    providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => SlickCarouselComponent),\n        multi: true\n    }],\n    template: '<ng-content></ng-content>',\n})\nexport class SlickCarouselComponent implements OnDestroy, OnChanges, AfterViewInit, AfterViewChecked {\n\n    @Input() config: any;\n    @Output() afterChange: EventEmitter<any> = new EventEmitter();\n    @Output() beforeChange: EventEmitter<any> = new EventEmitter();\n    @Output() breakpoint: EventEmitter<any> = new EventEmitter();\n    @Output() destroy: EventEmitter<any> = new EventEmitter();\n    @Output() init: EventEmitter<any> = new EventEmitter();\n\n    public $instance: any;\n    public currentIndex: number;\n    public slides: any[] = [];\n    public initialized = false;\n    private _removedSlides: SlickItemDirective[] = [];\n    private _addedSlides: SlickItemDirective[] = [];\n\n    /**\n     * Constructor\n     */\n    constructor(private el: ElementRef,\n                private zone: NgZone,\n                @Inject(PLATFORM_ID) private platformId: string) {\n    }\n\n    /**\n     * On component destroy\n     */\n    ngOnDestroy() {\n        this.unslick();\n    }\n\n    ngAfterViewInit(): void {\n        this.ngAfterViewChecked();\n    }\n\n    /**\n     * On component view checked\n     */\n    ngAfterViewChecked() {\n        if (isPlatformServer(this.platformId)) {\n            return;\n        }\n        if (this._addedSlides.length > 0 || this._removedSlides.length > 0) {\n            const nextSlidesLength = this.slides.length - this._removedSlides.length + this._addedSlides.length;\n            if (!this.initialized) {\n                if (nextSlidesLength > 0) {\n                    this.initSlick();\n                }\n                // if nextSlidesLength is zere, do nothing\n            } else if (nextSlidesLength === 0) { // unslick case\n                this.unslick();\n            } else {\n                this._addedSlides.forEach(slickItem => {\n                    this.slides.push(slickItem);\n                    this.zone.runOutsideAngular(() => {\n                        this.$instance.slick('slickAdd', slickItem.el.nativeElement);\n                    });\n                });\n                this._addedSlides = [];\n\n                this._removedSlides.forEach(slickItem => {\n                    const idx = this.slides.indexOf(slickItem);\n                    this.slides = this.slides.filter(s => s !== slickItem);\n                    this.zone.runOutsideAngular(() => {\n                        this.$instance.slick('slickRemove', idx);\n                    });\n                });\n                this._removedSlides = [];\n            }\n        }\n    }\n\n    /**\n     * init slick\n     */\n    initSlick() {\n        this.slides = this._addedSlides;\n        this._addedSlides = [];\n        this._removedSlides = [];\n        this.zone.runOutsideAngular(() => {\n            this.$instance = jQuery(this.el.nativeElement);\n\n            this.$instance.on('init', (event, slick) => {\n                this.zone.run(() => {\n                    this.init.emit({event, slick});\n                });\n            });\n\n            this.$instance.slick(this.config);\n\n            this.zone.run(() => {\n                this.initialized = true;\n\n                this.currentIndex = (this.config && this.config.initialSlide) ? this.config.initialSlide : 0;\n            });\n\n            this.$instance.on('afterChange', (event, slick, currentSlide) => {\n                this.zone.run(() => {\n                    this.afterChange.emit({event, slick, currentSlide});\n                    this.currentIndex = currentSlide;\n                });\n            });\n\n            this.$instance.on('beforeChange', (event, slick, currentSlide, nextSlide) => {\n                this.zone.run(() => {\n                    this.beforeChange.emit({event, slick, currentSlide, nextSlide});\n                    this.currentIndex = nextSlide;\n                });\n            });\n\n            this.$instance.on('breakpoint', (event, slick, breakpoint) => {\n                this.zone.run(() => {\n                    this.breakpoint.emit({event, slick, breakpoint});\n                });\n            });\n\n            this.$instance.on('destroy', (event, slick) => {\n                this.zone.run(() => {\n                    this.destroy.emit({event, slick});\n                    this.initialized = false;\n                });\n            });\n        });\n    }\n\n    addSlide(slickItem: SlickItemDirective) {\n        this._addedSlides.push(slickItem);\n    }\n\n    removeSlide(slickItem: SlickItemDirective) {\n        this._removedSlides.push(slickItem);\n    }\n\n    /**\n     * Slick Method\n     */\n    public slickGoTo(index: number) {\n        this.zone.runOutsideAngular(() => {\n            this.$instance.slick('slickGoTo', index);\n        });\n    }\n\n    public slickNext() {\n        this.zone.runOutsideAngular(() => {\n            this.$instance.slick('slickNext');\n        });\n    }\n\n    public slickPrev() {\n        this.zone.runOutsideAngular(() => {\n            this.$instance.slick('slickPrev');\n        });\n    }\n\n    public slickPause() {\n        this.zone.runOutsideAngular(() => {\n            this.$instance.slick('slickPause');\n        });\n    }\n\n    public slickPlay() {\n        this.zone.runOutsideAngular(() => {\n            this.$instance.slick('slickPlay');\n        });\n    }\n\n    public unslick() {\n        if (this.$instance) {\n            this.zone.runOutsideAngular(() => {\n                this.$instance.slick('unslick');\n            });\n            this.$instance = undefined;\n        }\n        this.initialized = false;\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (this.initialized) {\n            const config = changes['config'];\n            if (config.previousValue !== config.currentValue && config.currentValue !== undefined) {\n                const refresh = config.currentValue['refresh'];\n                const newOptions = Object.assign({}, config.currentValue);\n                delete newOptions['refresh'];\n\n                this.zone.runOutsideAngular(() => {\n                    this.$instance.slick('slickSetOption', newOptions, refresh);\n                });\n            }\n        }\n    }\n\n}\n\n@Directive({\n    selector: '[ngxSlickItem]',\n})\nexport class SlickItemDirective implements OnInit, OnDestroy {\n    constructor(public el: ElementRef,\n                @Inject(PLATFORM_ID) private platformId: string,\n                @Host() private carousel: SlickCarouselComponent) {\n    }\n\n    ngOnInit() {\n        if (isPlatformBrowser(this.platformId)) {\n            this.carousel.addSlide(this);\n        }\n    }\n\n    ngOnDestroy() {\n        if (isPlatformBrowser(this.platformId)) {\n            this.carousel.removeSlide(this);\n        }\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {SlickCarouselComponent, SlickItemDirective} from './slick.component';\n\nexport * from './slick.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    SlickCarouselComponent,\n    SlickItemDirective,\n  ],\n  exports: [\n    SlickCarouselComponent,\n    SlickItemDirective,\n  ]\n})\nexport class SlickCarouselModule {\n}\n"],"names":["EventEmitter","isPlatformServer","Component","NG_VALUE_ACCESSOR","forwardRef","ElementRef","NgZone","Inject","PLATFORM_ID","Input","Output","isPlatformBrowser","Directive","Host","NgModule","CommonModule"],"mappings":"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"}